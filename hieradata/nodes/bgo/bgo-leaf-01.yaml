---
profile::network::leaf::manage_quagga:         false

network::interfaces_hash:
  'eth0':
    'ipaddress': '172.16.3.1/21'
    'post_up': [ '/etc/network/if-up.d/z90-route-eth0', ]
    'post_down': [ '/etc/network/if-down.d/z90-route-eth0', ]

# Add default route for management VRF
profile::base::network::routes:
  'eth0':
    'ipaddress': [ '0.0.0.0', ]
    'netmask':   [ '0.0.0.0', ]
    'gateway':   [ "%{hiera('netcfg_mgmt_gateway')}", ]
    'table':     [ 'mgmt', ]

profile::base::network::cumulus_interfaces:
  'swp48':
    'mtu':   '1500'
  'swp52':
    'mtu':   '9216'

profile::base::network::cumulus_bridges:
  'bridge':
    'ports': [ 'swp48', 'swp52' ]
    'alias_name': 'Transport L2 if'
    'vlan_aware': 'true'
    'stp': 'false'
    'vids': [ '1', '10', ]
