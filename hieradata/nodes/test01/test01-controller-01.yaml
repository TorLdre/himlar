---
network::interfaces_hash:
  'em1':
    onboot:       'yes'
    mtu:          '9000'
    master:       'bond0'
    slave:        'yes'
  'em2':
    onboot:       'yes'
    mtu:          '9000'
    master:       'bond0'
    slave:        'yes'
  'bond0':
    onboot:       'yes'
    bonding_opts: 'mode=balance-alb miimon=100'
#    bonding_opts: 'mode=802.3ad miimon=100 lacp_rate=1'
    bridge:       'br0'
  'bond0.912':
    onboot:       'yes'
    bridge:       'br1'
    vlan:         'yes'
  'br0':
    onboot:       'yes'
    type:         'Bridge'
    ipaddress:    '172.28.0.100'
    gateway:      '172.28.0.10'
    netmask:      '255.255.255.0'
    dns1:         '129.177.6.54'
##    dns1:   "%{hiera('service__address__proxy')}"
    domain:       'mgmt.test.iaas.intern'
    peerdns:      'yes'
    defroute:     'yes'
    bridge_stp:   'off'
  'br1':
    onboot:       'yes'
    vlan:         'yes'
    type:         'Bridge'
    ipaddress:    '172.30.0.100'
    netmask:      '255.255.255.0'
    defroute:     'no'
    bridge_stp:   'off'

# Use controller-01 for himlar bootstrap
profile::bootstrap::himlar::manage_bootstrap_scripts: true

################ TEMP DATA - SHALL BE FIXED IN COMMON #########################

named_interfaces::config:
  mgmt:
     - br0
  trp:
     - br1
