---
named_interfaces::config:
  mgmt:
  - eth4
  trp:
  - eth0
  live:
  - eth0

profile::base::network::manage_neutron_blackhole: false
profile::openstack::compute::pci_passthrough::configure_intel_iommu: true
profile::openstack::compute::pci_passthrough::manage_pcipassthrough: true
profile::openstack::compute::pci_passthrough::manage_pci_whitelist:  true

nova::compute::pci::passthrough:
  - 'vendor_id':  '1002'
    'product_id': '687f'
nova::pci::aliases:
  - 'vendor_id':   '1002'
    'product_id':  '687f'
    'device_type': 'type-PCI'
    'name':        'vega10'

network::interfaces_hash:
  'eth0':
    onboot:         'yes'
    ipaddress:      "%{hiera('netcfg_trp_netpart')}.242"
    netmask:        "%{hiera('netcfg_trp_netmask')}"
    ipv6init:       'yes'
    ipv6addr:       "%{hiera('netcfg_trp_netpart6')}::242/%{hiera('netcfg_trp_netmask6')}"
    ipv6_defaultgw: "%{hiera('netcfg_trp_gateway6')}"
    defroute:       'no'
  'eth4':
    onboot:         'yes'
    ipaddress:      "%{hiera('netcfg_mgmt_netpart')}.242"
    netmask:        "%{hiera('netcfg_mgmt_netmask')}"
    mtu:            '1500'
    dns1:           "%{hiera('mgmt__address__proxy')}"
    domain:         "%{hiera('netcfg_dns_search')}"
    peerdns:        'yes'
    defroute:       'no'
