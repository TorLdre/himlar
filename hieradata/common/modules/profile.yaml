---
profile::base::common::manage_augeasproviders: true
profile::base::common::manage_epel:            false
profile::base::common::manage_accounts:        true
profile::base::common::manage_logging:         false
profile::base::common::manage_monitoring:      false
profile::base::common::manage_ssh:             true
profile::base::common::manage_ntp:             true
profile::base::common::manage_sudo:            true
profile::base::common::manage_authconfig:      false
profile::base::common::manage_timezones:       true
profile::base::common::manage_keyboard:        true
profile::base::common::manage_network:         true
profile::base::common::include_virtual:        true
profile::base::common::include_physical:       true
profile::base::firewall::manage_firewall:      true

profile::base::common::packages:
  'tcpdump': {}
  'tree': {}
  'htop': {}
  'vim-enhanced': {}
  'bind-utils': {}
  'nano': {}

profile::base::common::classes:
  - puppet
  - openstack_extras::repo::redhat::redhat

profile::openstack::compute::hypervisor::manage_telemetry: false

profile::openstack::database::sql::keystone_enabled: true
profile::openstack::database::sql::glance_enabled:   true
profile::openstack::database::sql::nova_enabled:     true
profile::openstack::database::sql::neutron_enabled:  true
profile::openstack::database::sql::cinder_enabled:   true
profile::openstack::database::sql::heat_enabled:     false
profile::openstack::database::sql::trove_enabled:    false

profile::openstack::identity::ceilometer_enabled: false
profile::openstack::identity::cinder_enabled:     true
profile::openstack::identity::glance_enabled:     true
profile::openstack::identity::neutron_enabled:    true
profile::openstack::identity::nova_enabled:       true
profile::openstack::identity::swift_enabled:      false
profile::openstack::identity::trove_enabled:      false

profile::openstack::image::api::backend: 'file'

profile::openstack::network::l2_driver: calico

profile::database::mariadb::manage_repo: false

profile::application::himlarcli::username:          'admin'
profile::application::himlarcli::auth_url:          "%{hiera('endpoint_protocol')}://%{hiera('service__address__keystone_public')}:5000/v3"
profile::application::himlarcli::service_net:       "%{network_service1}/%{netmask_service1}"
profile::application::himlarcli::password:          "%{hiera('keystone_admin_password')}"
profile::application::himlarcli::region_name:       "%{::location}"
profile::application::himlarcli::tenant_name:       'openstack'
profile::application::himlarcli::default_domain:    'Default'
profile::application::himlarcli::foreman_url:       "https://%{::location}-foreman-01.%{::domain}"
profile::application::himlarcli::foreman_user:      'admin'
profile::application::himlarcli::foreman_password:  "%{hiera('foreman::admin_password')}"

consul::config_hash:
  'enable_syslog': true
  'bind_addr':     "%{ipaddress_mgmt1}"
