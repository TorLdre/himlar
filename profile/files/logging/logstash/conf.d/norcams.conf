input {

  file {
    path => "/opt/log/norcams.log"
    type => "norcams"
    start_position => beginning
  }

}

filter {
  if [type] == "norcams" {
    grok {
      break_on_match => true
      match => [
        "message", "%{TIMESTAMP_ISO8601:timestamp} %{LOGLEVEL:loglevel} %{HOSTNAME:hostname} %{SYSLOGPROG}: %{GREEDYDATA:message}"
      ]
      add_tag => "norcams_logs"
    }
  }
}

# output {
#   elasticsearch {
#     hosts => "127.0.0.1:9200"
#   }
#
#   #file {
#   #  path => "/var/log/logstash/%{openstack_hostname}-%{+YYYY-MM-dd}.log"
#   #  codec => "rubydebug"
#   #}
#
# }
