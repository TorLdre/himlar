
# File is managed by puppet

<% # Common header across all templates -%>
<%= scope.function_template(['rsyslog/server/_default-header.conf.erb']) %>

# Template
$Template dynAllMessages,"<%= scope.lookupvar('rsyslog::server::server_dir') -%>%hostname%<%= scope.lookupvar('rsyslog::server::logpath') -%>messages"

# Rules
local0.*            ?NovaAll;OpenstackFileFormat
local0.*            ?NovaFile;OpenstackFileFormat
local1.*            ?NeutronAll;OpenstackFileFormat
local1.*            ?NeutronFile;OpenstackFileFormat
local2.*            ?KeystoneAll;OpenstackFileFormat
local2.*            ?KeystoneFile;OpenstackFileFormat
local3.*            ?GlanceAll;OpenstackFileFormat
local3.*            ?GlanceFile;OpenstackFileFormat
*.*                 -?dynAllMessages

<% # Common footer across all templates -%>
<%= scope.function_template(['rsyslog/server/_default-footer.conf.erb']) %>
